<!DOCTYPE html>

<head>
    <title>Nightbus | Home</title>
    <link rel="stylesheet" href="../static/css/normalize.css">
    <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>
    <div class="iwrapper">
    
        <div class="header">
            <canvas id="myCanvas" width="1200" height="120%" style="border:1px solid #d3d3d3;">
             Welcome to the NightBus!</canvas>
            <script>
               var ctx = document.querySelector("canvas").getContext("2d"),
                    dashLen = 220, dashOffset = dashLen, speed = 15,
                    txt = "Welcome to the NightBus!", x = 300, i = 0;

                ctx.font = "50px cursive, TSCu_Comic, sans-serif"; 
                ctx.lineWidth = 3; ctx.lineJoin = "round"; ctx.globalAlpha = 1;
                ctx.strokeStyle = ctx.fillStyle = "#a17f1a;";

                (function loop() {
                  ctx.clearRect(x, 0, 60, 150);
                  ctx.setLineDash([dashLen - dashOffset, dashOffset - speed]); // create a long dash mask
                  dashOffset -= speed;                                         // reduce dash length
                  ctx.strokeText(txt[i], x, 90);                               // stroke letter

                 if (dashOffset > 0) requestAnimationFrame(loop);             // animate
                  else {
                    ctx.fillText(txt[i], x, 90);                               // fill final letter
                    dashOffset = dashLen;                                      // prep next char
                   x += ctx.measureText(txt[i++]).width + ctx.lineWidth * Math.random();
                    ctx.setTransform(1, 0, 0, 1, 0, 3 * Math.random());        // random y-delta
                    ctx.rotate(Math.random() * 0.005);                         // random rotation
                    if (i < txt.length) requestAnimationFrame(loop);
                  }
                })();
                </script>
        </div>

        <div class="content">
            <div class="dex-box">
                <div class="icon-wrap">
                {% if "here" in status %}
                <img class="dex-icon" src="../static/here.gif" alt="bus-img"/>
                {% elif "coming" in status %}
                <img class="dex-icon" src="../static/coming.gif" alt="bus-img"/>
                {% else %}
                <img class="dex-icon" src="../static/leaving.gif" alt="bus-img"/>
                {% endif %}
                </div>
                <a href="../rider" ><button type="button">Rider</button></a>
                <a href="../driver" ><button type="button">Driver</button></a>
                <a href="../admin" ><button type="button">Admin</button></a>
            </div>
        </div>

    </div>

</body>