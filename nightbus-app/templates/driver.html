<!DOCTYPE html>
<head>
	<title>Nightbus | Drivers</title>
	<link rel="stylesheet" href="../static/css/normalize.css">
	<link rel="stylesheet" href="../static/css/style.css">
	<script type=text/javascript src="{{url_for('static',filename='jquery-3.2.1.js') }}"></script>
	<script src='../static/main.js'></script>
</head>

<body>
	<div class="wrapper">

	<div class="header">
		<h1>The NightBus</h1>
		<div class="nav">
			<h2><a href="/" >Sign-In</a><a href="../rider">Rider</a><a href="../admin" >Admin</a></h2>
		</div>
	</div>
		<div class = "statusbox">
		</div>
		<div class="content">
			<div class="butt box">
				<button value="here" id="here" type="button">On Campus</button>
				<button value="leaving" id="leaving" type="button">Just Left</button>
				<button value="coming" id="coming" type="button">Coming Back</button>
			</div>
			<div class="box">
				<h2>Instructions</h2>
				<ul>
				 	<li> press the "On Campus" when you arrive at Eliot Cirlce. </li>
				 	<li>Press the "Just Left" button once you are ready to leave. </li>
				 	<li> Finally, press the "Coming Back" button after you've made your final stop and are about to head back to campus. </li> 
				</ul>
			</div>
		</div>

	</div>
	<script type=text/javascript>
	$(function() {
		// set up an event listener for the buttons
	  $('button').bind('click', function() {
			// get the value of the clicked  button
	    var clicked = $(this).val();
			alert(clicked);
			// send HTTP request via Ajax
	    $.ajax({
	      url: 'update_state/',
	      data: {'state': clicked},
	      dataType: "json",
	      type: 'GET',
	    });
			// for testing
	    $.done( function(){
	      alert("success");
	    });
	    $.fail( function (){
	      alert("error");
	    });
	    $.always( function (){
	      alert("done");
	    });
	  });
	});
	</script>

</body>