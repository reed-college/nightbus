<!doctype html>
<head>
	<title>Nightbus | Add Users </title>
	<link rel="stylesheet" href="../static/css/normalize.css">
	<link rel="stylesheet" href="../static/css/style.css">
	<meta name="viewport" content="initial-scale=1, width=device-width">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.js"></script>
	<script src="http://ajax.microsoft.com/ajax/jquery.validate/1.7/additional-methods.js"></script>
</head>

<body>
<div class="wrapper">
	<div class="header">
		<h1>Login</h1>
	</div>
	<div class="content">
		<form action="/set_password/{{ token}}" method="post">
			<ul class="form-container">
				<li>
					<input id='password' type="password" placeholder="Enter your password" name="password" required><br>
				</li>
				<li>
					<input type="password" placeholder="Confirm your password" name="password_repeat" required><br>
				</li>
				<li class="messageBox"></li>
				<li>
					<input class="submit-button" type="submit" value="Save!">
				</li>
			</ul>
		</form>
	</div>

	<script>
		$(function() {
			$('form').validate({

				errorPlacement: function(error, element) {
					error.appendTo($('.messageBox'));
					element.keyup(function () {
						$('.messageBox').empty();
					});
				},
				rules: {
					password: {
						required: true,
						minlength: 5
					},
					password_repeat: {
						required: true,
						minlength: 5,
						equalTo: '#password'
					}
				},
				messages: {
					password: {
						required: 'Please provide a password',
						minlength: "Your password must be at least 5 characters long"
					},
					password_repeat: {
						equalTo: 'Password must match'
					}
				}

			});
		});
	</script>
</div>
</body>
</html>
